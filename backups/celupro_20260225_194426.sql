PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE usuarios (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        usuario TEXT UNIQUE NOT NULL,
        contraseña TEXT NOT NULL,
        nombre TEXT NOT NULL,
        rol TEXT CHECK(rol IN ('admin', 'empleado', 'tecnico')) NOT NULL,
        activo INTEGER DEFAULT 1,
        fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    , telefono TEXT, cedula TEXT);
INSERT INTO usuarios VALUES(1,'admin','pbkdf2:sha256:600000$ynpT6nUHNgAIGJyK$71c981f66ea6b532aed4e60f2a9f95ef28c87d65695fb0316e7f48ab31597081','Administrador','admin',1,'2026-02-17 19:37:15',NULL,NULL);
INSERT INTO usuarios VALUES(2,'empleado','pbkdf2:sha256:600000$IVSpbOtX1qxw6XVy$30388375def8f3ef552f484b2dce49fc03631602105b400288c7b34c9663af05','Empleado','empleado',1,'2026-02-17 19:37:15',NULL,NULL);
INSERT INTO usuarios VALUES(3,'tecnico','pbkdf2:sha256:600000$popCjK3LVJXZOf12$5468aa776eaf4803437588b3c23718bdef212fad830e49493c3be094c4e7e5d0','Técnico','tecnico',0,'2026-02-17 19:37:15',NULL,NULL);
INSERT INTO usuarios VALUES(4,'MAOYING','pbkdf2:sha256:600000$jU52qkjc7MxCsuGc$2c3f90f3cb4b6cbb0895d9b79b898fb998af4eb6d43b735a2be27e8a31685204','MAO YING GOMEZ URIBE','tecnico',0,'2026-02-25 19:23:35',NULL,NULL);
INSERT INTO usuarios VALUES(5,'MAO','pbkdf2:sha256:600000$KzsiFfBtBv4gGJhU$4005a4b6e4f23d59d2c5934cd25493de68cccfaa31aa347b00a61899ac8e1b1c','MAO YING GOMEZ URIBE','tecnico',1,'2026-02-25 19:39:14','3197239643','1113313479');
CREATE TABLE marcas (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        nombre TEXT UNIQUE NOT NULL,
        fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    , orden INTEGER DEFAULT 0);
INSERT INTO marcas VALUES(1,'iPhone','2026-02-17 19:37:15',2);
INSERT INTO marcas VALUES(2,'Samsung','2026-02-17 19:37:15',1);
INSERT INTO marcas VALUES(3,'Xiaomi','2026-02-17 19:37:15',3);
INSERT INTO marcas VALUES(15,'Otro','2026-02-17 19:37:15',18);
INSERT INTO marcas VALUES(16,'Huawei','2026-02-25 23:04:28',15);
INSERT INTO marcas VALUES(17,'Honor','2026-02-25 23:04:28',16);
INSERT INTO marcas VALUES(18,'Vivo','2026-02-25 23:04:28',17);
CREATE TABLE modelos (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        marca_id INTEGER NOT NULL,
        nombre TEXT NOT NULL,
        fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP, orden INTEGER DEFAULT 0,
        FOREIGN KEY (marca_id) REFERENCES marcas(id) ON DELETE CASCADE,
        UNIQUE(marca_id, nombre)
    );
INSERT INTO modelos VALUES(2,1,'IPHONE 15 PRO','2026-02-17 19:37:15',32);
INSERT INTO modelos VALUES(3,1,'IPHONE 15','2026-02-17 19:37:15',30);
INSERT INTO modelos VALUES(4,1,'IPHONE 14 PRO MAX','2026-02-17 19:37:15',28);
INSERT INTO modelos VALUES(5,1,'IPHONE 14 PRO','2026-02-17 19:37:15',27);
INSERT INTO modelos VALUES(6,1,'IPHONE 14','2026-02-17 19:37:15',25);
INSERT INTO modelos VALUES(7,1,'IPHONE 13','2026-02-17 19:37:15',21);
INSERT INTO modelos VALUES(8,1,'IPHONE 12','2026-02-17 19:37:15',16);
INSERT INTO modelos VALUES(9,1,'IPHONE SE','2026-02-17 19:37:15',42);
INSERT INTO modelos VALUES(10,2,'GALAXY S24 ULTRA','2026-02-17 19:37:15',44);
INSERT INTO modelos VALUES(11,2,'GALAXY S24','2026-02-17 19:37:15',43);
INSERT INTO modelos VALUES(12,2,'GALAXY A55','2026-02-17 19:37:15',42);
INSERT INTO modelos VALUES(13,2,'GALAXY A35','2026-02-17 19:37:15',41);
INSERT INTO modelos VALUES(14,2,'GALAXY Z FOLD 6','2026-02-17 19:37:15',55);
INSERT INTO modelos VALUES(15,2,'GALAXY Z FLIP 6','2026-02-17 19:37:15',54);
INSERT INTO modelos VALUES(16,2,'GALAXY S23','2026-02-17 19:37:15',36);
INSERT INTO modelos VALUES(17,2,'GALAXY A14','2026-02-17 19:37:15',32);
INSERT INTO modelos VALUES(18,2,'GALAXY S23 ULTRA','2026-02-17 19:48:37',37);
INSERT INTO modelos VALUES(19,1,'IPHONE 15 PRO MAX','2026-02-24 15:09:48',33);
INSERT INTO modelos VALUES(20,2,'GALAXY S10','2026-02-25 23:04:28',6);
INSERT INTO modelos VALUES(21,2,'GALAXY S10E','2026-02-25 23:04:28',53);
INSERT INTO modelos VALUES(22,2,'GALAXY S10+','2026-02-25 23:04:28',7);
INSERT INTO modelos VALUES(23,2,'GALAXY S20','2026-02-25 23:04:28',13);
INSERT INTO modelos VALUES(24,2,'GALAXY S20+','2026-02-25 23:04:28',15);
INSERT INTO modelos VALUES(25,2,'GALAXY S20 ULTRA','2026-02-25 23:04:28',14);
INSERT INTO modelos VALUES(26,2,'GALAXY S21','2026-02-25 23:04:28',21);
INSERT INTO modelos VALUES(27,2,'GALAXY S21+','2026-02-25 23:04:28',23);
INSERT INTO modelos VALUES(28,2,'GALAXY S21 ULTRA','2026-02-25 23:04:28',22);
INSERT INTO modelos VALUES(29,2,'GALAXY S22','2026-02-25 23:04:28',29);
INSERT INTO modelos VALUES(30,2,'GALAXY S22+','2026-02-25 23:04:28',31);
INSERT INTO modelos VALUES(31,2,'GALAXY S22 ULTRA','2026-02-25 23:04:28',30);
INSERT INTO modelos VALUES(32,2,'GALAXY S23+','2026-02-25 23:04:28',38);
INSERT INTO modelos VALUES(33,2,'GALAXY S24+','2026-02-25 23:04:28',45);
INSERT INTO modelos VALUES(34,2,'GALAXY S25','2026-02-25 23:04:28',46);
INSERT INTO modelos VALUES(35,2,'GALAXY S25+','2026-02-25 23:04:28',48);
INSERT INTO modelos VALUES(36,2,'GALAXY S25 ULTRA','2026-02-25 23:04:28',47);
INSERT INTO modelos VALUES(37,2,'GALAXY A10','2026-02-25 23:04:28',1);
INSERT INTO modelos VALUES(38,2,'GALAXY A10S','2026-02-25 23:04:28',49);
INSERT INTO modelos VALUES(39,2,'GALAXY A20','2026-02-25 23:04:28',2);
INSERT INTO modelos VALUES(40,2,'GALAXY A20S','2026-02-25 23:04:28',50);
INSERT INTO modelos VALUES(41,2,'GALAXY A30','2026-02-25 23:04:28',3);
INSERT INTO modelos VALUES(42,2,'GALAXY A30S','2026-02-25 23:04:28',51);
INSERT INTO modelos VALUES(43,2,'GALAXY A50','2026-02-25 23:04:28',4);
INSERT INTO modelos VALUES(44,2,'GALAXY A50S','2026-02-25 23:04:28',52);
INSERT INTO modelos VALUES(45,2,'GALAXY A70','2026-02-25 23:04:28',5);
INSERT INTO modelos VALUES(46,2,'GALAXY A11','2026-02-25 23:04:28',8);
INSERT INTO modelos VALUES(47,2,'GALAXY A21','2026-02-25 23:04:28',9);
INSERT INTO modelos VALUES(48,2,'GALAXY A31','2026-02-25 23:04:28',10);
INSERT INTO modelos VALUES(49,2,'GALAXY A51','2026-02-25 23:04:28',11);
INSERT INTO modelos VALUES(50,2,'GALAXY A71','2026-02-25 23:04:28',12);
INSERT INTO modelos VALUES(51,2,'GALAXY A12','2026-02-25 23:04:28',16);
INSERT INTO modelos VALUES(52,2,'GALAXY A22','2026-02-25 23:04:28',17);
INSERT INTO modelos VALUES(53,2,'GALAXY A32','2026-02-25 23:04:28',18);
INSERT INTO modelos VALUES(54,2,'GALAXY A52','2026-02-25 23:04:28',19);
INSERT INTO modelos VALUES(55,2,'GALAXY A72','2026-02-25 23:04:28',20);
INSERT INTO modelos VALUES(56,2,'GALAXY A13','2026-02-25 23:04:28',24);
INSERT INTO modelos VALUES(57,2,'GALAXY A23','2026-02-25 23:04:28',25);
INSERT INTO modelos VALUES(58,2,'GALAXY A33','2026-02-25 23:04:28',26);
INSERT INTO modelos VALUES(59,2,'GALAXY A53','2026-02-25 23:04:28',27);
INSERT INTO modelos VALUES(60,2,'GALAXY A73','2026-02-25 23:04:28',28);
INSERT INTO modelos VALUES(61,2,'GALAXY A24','2026-02-25 23:04:28',33);
INSERT INTO modelos VALUES(62,2,'GALAXY A34','2026-02-25 23:04:28',34);
INSERT INTO modelos VALUES(63,2,'GALAXY A54','2026-02-25 23:04:28',35);
INSERT INTO modelos VALUES(64,2,'GALAXY A15','2026-02-25 23:04:28',39);
INSERT INTO modelos VALUES(65,2,'GALAXY A25','2026-02-25 23:04:28',40);
INSERT INTO modelos VALUES(66,1,'IPHONE 6','2026-02-25 23:04:28',1);
INSERT INTO modelos VALUES(67,1,'IPHONE 6 PLUS','2026-02-25 23:04:28',2);
INSERT INTO modelos VALUES(68,1,'IPHONE 6S','2026-02-25 23:04:28',3);
INSERT INTO modelos VALUES(69,1,'IPHONE 6S PLUS','2026-02-25 23:04:28',4);
INSERT INTO modelos VALUES(70,1,'IPHONE 7','2026-02-25 23:04:28',5);
INSERT INTO modelos VALUES(71,1,'IPHONE 7 PLUS','2026-02-25 23:04:28',6);
INSERT INTO modelos VALUES(72,1,'IPHONE 8','2026-02-25 23:04:28',7);
INSERT INTO modelos VALUES(73,1,'IPHONE 8 PLUS','2026-02-25 23:04:28',8);
INSERT INTO modelos VALUES(74,1,'IPHONE X','2026-02-25 23:04:28',9);
INSERT INTO modelos VALUES(75,1,'IPHONE XR','2026-02-25 23:04:28',10);
INSERT INTO modelos VALUES(76,1,'IPHONE XS','2026-02-25 23:04:28',11);
INSERT INTO modelos VALUES(77,1,'IPHONE XS MAX','2026-02-25 23:04:28',12);
INSERT INTO modelos VALUES(78,1,'IPHONE 11','2026-02-25 23:04:28',13);
INSERT INTO modelos VALUES(79,1,'IPHONE 11 PRO','2026-02-25 23:04:28',14);
INSERT INTO modelos VALUES(80,1,'IPHONE 11 PRO MAX','2026-02-25 23:04:28',15);
INSERT INTO modelos VALUES(81,1,'IPHONE SE (2020)','2026-02-25 23:04:28',20);
INSERT INTO modelos VALUES(82,1,'IPHONE 12 MINI','2026-02-25 23:04:28',17);
INSERT INTO modelos VALUES(83,1,'IPHONE 12 PRO','2026-02-25 23:04:28',18);
INSERT INTO modelos VALUES(84,1,'IPHONE 12 PRO MAX','2026-02-25 23:04:28',19);
INSERT INTO modelos VALUES(85,1,'IPHONE 13 MINI','2026-02-25 23:04:28',22);
INSERT INTO modelos VALUES(86,1,'IPHONE 13 PRO','2026-02-25 23:04:28',23);
INSERT INTO modelos VALUES(87,1,'IPHONE 13 PRO MAX','2026-02-25 23:04:28',24);
INSERT INTO modelos VALUES(88,1,'IPHONE SE (2022)','2026-02-25 23:04:28',29);
INSERT INTO modelos VALUES(89,1,'IPHONE 14 PLUS','2026-02-25 23:04:28',26);
INSERT INTO modelos VALUES(90,1,'IPHONE 15 PLUS','2026-02-25 23:04:28',31);
INSERT INTO modelos VALUES(91,1,'IPHONE 16','2026-02-25 23:04:28',34);
INSERT INTO modelos VALUES(92,1,'IPHONE 16 PLUS','2026-02-25 23:04:28',35);
INSERT INTO modelos VALUES(93,1,'IPHONE 16 PRO','2026-02-25 23:04:28',36);
INSERT INTO modelos VALUES(94,1,'IPHONE 16 PRO MAX','2026-02-25 23:04:28',37);
INSERT INTO modelos VALUES(95,3,'MI 9','2026-02-25 23:04:28',1);
INSERT INTO modelos VALUES(96,3,'MI 9T','2026-02-25 23:04:28',33);
INSERT INTO modelos VALUES(97,3,'MI 9T PRO','2026-02-25 23:04:28',34);
INSERT INTO modelos VALUES(98,3,'MI 10','2026-02-25 23:04:28',4);
INSERT INTO modelos VALUES(99,3,'MI 10 PRO','2026-02-25 23:04:28',5);
INSERT INTO modelos VALUES(100,3,'MI 10T','2026-02-25 23:04:28',29);
INSERT INTO modelos VALUES(101,3,'MI 10T PRO','2026-02-25 23:04:28',30);
INSERT INTO modelos VALUES(102,3,'MI 11','2026-02-25 23:04:28',9);
INSERT INTO modelos VALUES(103,3,'MI 11 LITE','2026-02-25 23:04:28',10);
INSERT INTO modelos VALUES(104,3,'MI 11T','2026-02-25 23:04:28',31);
INSERT INTO modelos VALUES(105,3,'MI 11T PRO','2026-02-25 23:04:28',32);
INSERT INTO modelos VALUES(106,3,'XIAOMI 12','2026-02-25 23:04:28',17);
INSERT INTO modelos VALUES(107,3,'XIAOMI 12 LITE','2026-02-25 23:04:28',18);
INSERT INTO modelos VALUES(108,3,'XIAOMI 12T','2026-02-25 23:04:28',35);
INSERT INTO modelos VALUES(109,3,'XIAOMI 12T PRO','2026-02-25 23:04:28',36);
INSERT INTO modelos VALUES(110,3,'XIAOMI 13','2026-02-25 23:04:28',22);
INSERT INTO modelos VALUES(111,3,'XIAOMI 13 LITE','2026-02-25 23:04:28',23);
INSERT INTO modelos VALUES(112,3,'XIAOMI 13T','2026-02-25 23:04:28',37);
INSERT INTO modelos VALUES(113,3,'XIAOMI 13T PRO','2026-02-25 23:04:28',38);
INSERT INTO modelos VALUES(114,3,'XIAOMI 14','2026-02-25 23:04:28',26);
INSERT INTO modelos VALUES(115,3,'XIAOMI 14T','2026-02-25 23:04:28',39);
INSERT INTO modelos VALUES(116,3,'XIAOMI 14T PRO','2026-02-25 23:04:28',40);
INSERT INTO modelos VALUES(117,3,'REDMI NOTE 8','2026-02-25 23:04:28',2);
INSERT INTO modelos VALUES(118,3,'REDMI NOTE 8 PRO','2026-02-25 23:04:28',3);
INSERT INTO modelos VALUES(119,3,'REDMI NOTE 9','2026-02-25 23:04:28',6);
INSERT INTO modelos VALUES(120,3,'REDMI NOTE 9S','2026-02-25 23:04:28',8);
INSERT INTO modelos VALUES(121,3,'REDMI NOTE 9 PRO','2026-02-25 23:04:28',7);
INSERT INTO modelos VALUES(122,3,'REDMI NOTE 10','2026-02-25 23:04:28',11);
INSERT INTO modelos VALUES(123,3,'REDMI NOTE 10S','2026-02-25 23:04:28',13);
INSERT INTO modelos VALUES(124,3,'REDMI NOTE 10 PRO','2026-02-25 23:04:28',12);
INSERT INTO modelos VALUES(125,3,'REDMI NOTE 11','2026-02-25 23:04:28',14);
INSERT INTO modelos VALUES(126,3,'REDMI NOTE 11S','2026-02-25 23:04:28',16);
INSERT INTO modelos VALUES(127,3,'REDMI NOTE 11 PRO','2026-02-25 23:04:28',15);
INSERT INTO modelos VALUES(128,3,'REDMI NOTE 12','2026-02-25 23:04:28',19);
INSERT INTO modelos VALUES(129,3,'REDMI NOTE 12S','2026-02-25 23:04:28',21);
INSERT INTO modelos VALUES(130,3,'REDMI NOTE 12 PRO','2026-02-25 23:04:28',20);
INSERT INTO modelos VALUES(131,3,'REDMI NOTE 13','2026-02-25 23:04:28',24);
INSERT INTO modelos VALUES(132,3,'REDMI NOTE 13 PRO','2026-02-25 23:04:28',25);
INSERT INTO modelos VALUES(133,3,'REDMI NOTE 14','2026-02-25 23:04:28',27);
INSERT INTO modelos VALUES(134,3,'REDMI NOTE 14 PRO','2026-02-25 23:04:28',28);
INSERT INTO modelos VALUES(135,16,'P30','2026-02-25 23:04:28',4);
INSERT INTO modelos VALUES(136,16,'P30 PRO','2026-02-25 23:04:28',5);
INSERT INTO modelos VALUES(137,16,'P40','2026-02-25 23:04:28',9);
INSERT INTO modelos VALUES(138,16,'P40 PRO','2026-02-25 23:04:28',10);
INSERT INTO modelos VALUES(139,16,'P50','2026-02-25 23:04:28',13);
INSERT INTO modelos VALUES(140,16,'P50 PRO','2026-02-25 23:04:28',14);
INSERT INTO modelos VALUES(141,16,'P60','2026-02-25 23:04:28',19);
INSERT INTO modelos VALUES(142,16,'P60 PRO','2026-02-25 23:04:28',20);
INSERT INTO modelos VALUES(143,16,'MATE 30','2026-02-25 23:04:28',1);
INSERT INTO modelos VALUES(144,16,'MATE 30 PRO','2026-02-25 23:04:28',2);
INSERT INTO modelos VALUES(145,16,'MATE 40','2026-02-25 23:04:28',6);
INSERT INTO modelos VALUES(146,16,'MATE 40 PRO','2026-02-25 23:04:28',7);
INSERT INTO modelos VALUES(147,16,'MATE 50','2026-02-25 23:04:28',15);
INSERT INTO modelos VALUES(148,16,'MATE 50 PRO','2026-02-25 23:04:28',16);
INSERT INTO modelos VALUES(149,16,'NOVA 5T','2026-02-25 23:04:28',3);
INSERT INTO modelos VALUES(150,16,'NOVA 7I','2026-02-25 23:04:28',8);
INSERT INTO modelos VALUES(151,16,'NOVA 8I','2026-02-25 23:04:28',11);
INSERT INTO modelos VALUES(152,16,'NOVA 9','2026-02-25 23:04:28',12);
INSERT INTO modelos VALUES(153,16,'NOVA 10','2026-02-25 23:04:28',17);
INSERT INTO modelos VALUES(154,16,'NOVA 11','2026-02-25 23:04:28',18);
INSERT INTO modelos VALUES(155,16,'NOVA 12','2026-02-25 23:04:28',21);
INSERT INTO modelos VALUES(156,17,'HONOR 20','2026-02-25 23:04:28',1);
INSERT INTO modelos VALUES(157,17,'HONOR 20 PRO','2026-02-25 23:04:28',2);
INSERT INTO modelos VALUES(158,17,'HONOR 30','2026-02-25 23:04:28',5);
INSERT INTO modelos VALUES(159,17,'HONOR 30 PRO','2026-02-25 23:04:28',6);
INSERT INTO modelos VALUES(160,17,'HONOR 50','2026-02-25 23:04:28',7);
INSERT INTO modelos VALUES(161,17,'HONOR 50 LITE','2026-02-25 23:04:28',8);
INSERT INTO modelos VALUES(162,17,'HONOR 70','2026-02-25 23:04:28',9);
INSERT INTO modelos VALUES(163,17,'HONOR 90','2026-02-25 23:04:28',15);
INSERT INTO modelos VALUES(164,17,'HONOR 200','2026-02-25 23:04:28',3);
INSERT INTO modelos VALUES(165,17,'HONOR 200 PRO','2026-02-25 23:04:28',4);
INSERT INTO modelos VALUES(166,17,'HONOR X6','2026-02-25 23:04:28',10);
INSERT INTO modelos VALUES(167,17,'HONOR X7','2026-02-25 23:04:28',11);
INSERT INTO modelos VALUES(168,17,'HONOR X8','2026-02-25 23:04:28',12);
INSERT INTO modelos VALUES(169,17,'HONOR X9','2026-02-25 23:04:28',13);
INSERT INTO modelos VALUES(170,17,'HONOR X9B','2026-02-25 23:04:28',14);
INSERT INTO modelos VALUES(171,18,'VIVO Y11','2026-02-25 23:04:28',1);
INSERT INTO modelos VALUES(172,18,'VIVO Y12','2026-02-25 23:04:28',2);
INSERT INTO modelos VALUES(173,18,'VIVO Y15','2026-02-25 23:04:28',3);
INSERT INTO modelos VALUES(174,18,'VIVO Y17','2026-02-25 23:04:28',4);
INSERT INTO modelos VALUES(175,18,'VIVO Y20','2026-02-25 23:04:28',6);
INSERT INTO modelos VALUES(176,18,'VIVO Y21','2026-02-25 23:04:28',10);
INSERT INTO modelos VALUES(177,18,'VIVO Y22','2026-02-25 23:04:28',15);
INSERT INTO modelos VALUES(178,18,'VIVO Y27','2026-02-25 23:04:28',19);
INSERT INTO modelos VALUES(179,18,'VIVO Y36','2026-02-25 23:04:28',20);
INSERT INTO modelos VALUES(180,18,'VIVO V20','2026-02-25 23:04:28',5);
INSERT INTO modelos VALUES(181,18,'VIVO V21','2026-02-25 23:04:28',7);
INSERT INTO modelos VALUES(182,18,'VIVO V23','2026-02-25 23:04:28',11);
INSERT INTO modelos VALUES(183,18,'VIVO V25','2026-02-25 23:04:28',12);
INSERT INTO modelos VALUES(184,18,'VIVO V27','2026-02-25 23:04:28',16);
INSERT INTO modelos VALUES(185,18,'VIVO V29','2026-02-25 23:04:28',17);
INSERT INTO modelos VALUES(186,18,'VIVO V30','2026-02-25 23:04:28',21);
INSERT INTO modelos VALUES(187,18,'VIVO X60','2026-02-25 23:04:28',8);
INSERT INTO modelos VALUES(188,18,'VIVO X70','2026-02-25 23:04:28',9);
INSERT INTO modelos VALUES(189,18,'VIVO X80','2026-02-25 23:04:28',13);
INSERT INTO modelos VALUES(190,18,'VIVO X90','2026-02-25 23:04:28',14);
INSERT INTO modelos VALUES(191,18,'VIVO X100','2026-02-25 23:04:28',18);
INSERT INTO modelos VALUES(192,1,'IPHONE 17','2026-02-25 23:17:29',38);
INSERT INTO modelos VALUES(193,1,'IPHONE 17 PLUS','2026-02-25 23:17:29',39);
INSERT INTO modelos VALUES(194,1,'IPHONE 17 PRO','2026-02-25 23:17:29',40);
INSERT INTO modelos VALUES(195,1,'IPHONE 17 PRO MAX','2026-02-25 23:17:29',41);
CREATE TABLE fallas_catalogo (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        nombre TEXT UNIQUE NOT NULL,
        descripcion TEXT,
        precio_sugerido REAL DEFAULT 0,
        fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    );
INSERT INTO fallas_catalogo VALUES(1,'Pantalla general','Problemas generales con la pantalla',45000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(2,'Pantalla táctil no funciona','Pantalla táctil no responde',50000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(3,'Pantalla original dañada','Pantalla original con daño físico',55000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(4,'Puerto USB tipo C','Puerto de carga o datos dañado',35000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(5,'Puerto USB tipo Micro','Puerto de carga o datos dañado',30000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(6,'Batería general','Cambio de batería',40000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(7,'Batería original','Cambio de batería original',60000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(8,'Tapa general','Tapa trasera genérica',25000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(9,'Tapa original','Tapa trasera original',45000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(10,'Backover (vidrio trasero)','Reemplazo de vidrio trasero',50000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(11,'Cámara dañada','Reparación o reemplazo de cámara',40000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(12,'Antena dañada','Reparación o reemplazo de antena',20000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(13,'IC de carga','Reparación componente de carga',80000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(14,'IC de señal','Reparación componente de señal',90000.0,'2026-02-17 19:37:15');
INSERT INTO fallas_catalogo VALUES(15,'Reballing','Reballing de componentes BGA',120000.0,'2026-02-17 19:37:15');
CREATE TABLE ingresos (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        numero_ingreso TEXT UNIQUE NOT NULL,
        empleado_id INTEGER NOT NULL,
        tecnico_id INTEGER,
        cliente_nombre TEXT NOT NULL,
        cliente_apellido TEXT NOT NULL,
        cliente_cedula TEXT NOT NULL,
        cliente_telefono TEXT,
        cliente_direccion TEXT,
        marca_id INTEGER NOT NULL,
        modelo_id INTEGER NOT NULL,
        color TEXT,
        falla_general TEXT,
        notas_adicionales TEXT,
        estado_display BOOLEAN,
        estado_tactil BOOLEAN,
        estado_botones BOOLEAN,
        estado_apagado BOOLEAN,
        tiene_clave BOOLEAN,
        clave TEXT,
        valor_total REAL DEFAULT 0,
        estado_ingreso TEXT DEFAULT 'pendiente' CHECK(estado_ingreso IN ('pendiente', 'en_reparacion', 'reparado', 'no_reparable', 'entregado', 'cancelado')),
        fecha_ingreso TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        fecha_entrega TIMESTAMP, estado_pago TEXT DEFAULT 'pendiente', imei TEXT, tipo_clave TEXT, garantia BOOLEAN DEFAULT 0, estuche BOOLEAN DEFAULT 0, bandeja_sim BOOLEAN DEFAULT 0, color_bandeja_sim TEXT, visor_partido BOOLEAN DEFAULT 0, estado_botones_detalle TEXT, tecnico_nombre TEXT, tecnico_telefono TEXT, tecnico_cedula TEXT,
        FOREIGN KEY (empleado_id) REFERENCES usuarios(id),
        FOREIGN KEY (tecnico_id) REFERENCES usuarios(id),
        FOREIGN KEY (marca_id) REFERENCES marcas(id),
        FOREIGN KEY (modelo_id) REFERENCES modelos(id)
    );
INSERT INTO ingresos VALUES(40,'1',1,5,'MAO YING','GOMEZ URIBE','1113313479','3217335276','CL 50 49 47',1,8,'NEGRO','PANTALLA ROTA','',0,0,0,0,0,'',20000.0,'entregado','2026-02-25 16:17:54','2026-02-25 16:18:37.734027','pagado','67890','NUMERICA',0,0,0,'',0,'BUENOS COMPLETOS','MAO YING GOMEZ URIBE','3197239643','1113313479');
INSERT INTO ingresos VALUES(41,'2',2,5,'MAO YING','GOMEZ URIBE','1113313479','3217335276','CL 50 49 47',1,8,'NEGRO','OK','',0,0,1,0,1,'7',45000.0,'pendiente','2026-02-25 17:33:17',NULL,'pendiente','34567890','ALFANUMERICA',0,0,0,'',0,'REGULARES','MAO YING GOMEZ URIBE','3197239643','1113313479');
INSERT INTO ingresos VALUES(42,'3',1,5,'MAO YING','GOMEZ URIBE','1113313479','3217335276','CL 50 49 47',2,51,'','PANTALLA ROTA','',0,0,0,0,0,'',45000.0,'pendiente','2026-02-25 18:28:51',NULL,'pendiente','1329864679','NUMERICA',0,0,0,'',0,'BUENOS COMPLETOS','MAO YING GOMEZ URIBE','3197239643','1113313479');
CREATE TABLE ingreso_fallas (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        ingreso_id INTEGER NOT NULL,
        falla_id INTEGER NOT NULL,
        valor_reparacion REAL DEFAULT 0,
        estado_falla TEXT DEFAULT 'pendiente' CHECK(estado_falla IN ('pendiente', 'reparada', 'no_reparable')),
        notas_falla TEXT,
        agregada_por INTEGER,
        fecha_adicion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (ingreso_id) REFERENCES ingresos(id) ON DELETE CASCADE,
        FOREIGN KEY (falla_id) REFERENCES fallas_catalogo(id),
        FOREIGN KEY (agregada_por) REFERENCES usuarios(id),
        UNIQUE(ingreso_id, falla_id)
    );
INSERT INTO ingreso_fallas VALUES(23,40,12,20000.0,'pendiente',NULL,1,'2026-02-25 21:17:54');
INSERT INTO ingreso_fallas VALUES(24,41,1,45000.0,'pendiente',NULL,2,'2026-02-25 22:33:17');
INSERT INTO ingreso_fallas VALUES(25,42,1,45000.0,'pendiente',NULL,1,'2026-02-25 23:28:51');
CREATE TABLE notas_ingreso (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        ingreso_id INTEGER NOT NULL,
        usuario_id INTEGER NOT NULL,
        contenido TEXT NOT NULL,
        tipo TEXT DEFAULT 'general' CHECK(tipo IN ('general', 'tecnica', 'administrativa')),
        fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (ingreso_id) REFERENCES ingresos(id) ON DELETE CASCADE,
        FOREIGN KEY (usuario_id) REFERENCES usuarios(id)
    );
INSERT INTO notas_ingreso VALUES(21,40,1,'[GARANTIA][ABIERTA]: modulo en falla','tecnica','2026-02-25 21:18:37');
INSERT INTO notas_ingreso VALUES(22,40,1,'[GARANTIA][RESUELTA]: se reemplazo | Resuelto el 25/2/2026, 16:18:49 por Administrador','tecnica','2026-02-25 21:18:49');
INSERT INTO notas_ingreso VALUES(23,40,1,'[GARANTIA][ABIERTA] REAPERTURA: mm','tecnica','2026-02-25 21:19:13');
INSERT INTO notas_ingreso VALUES(24,40,1,'[GARANTIA][RESUELTA]: ok | Resuelto el 25/2/2026, 16:19:19 por Administrador','tecnica','2026-02-25 21:19:19');
INSERT INTO notas_ingreso VALUES(25,40,1,'[GARANTIA][ABIERTA] REAPERTURA: plk','tecnica','2026-02-25 21:19:35');
CREATE TABLE configuracion (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        clave TEXT UNIQUE NOT NULL,
        valor TEXT,
        tipo TEXT DEFAULT 'text' CHECK(tipo IN ('text', 'number', 'file')),
        fecha_actualizacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    );
INSERT INTO configuracion VALUES(1,'nombre_negocio','CELUPRO','text','2026-02-17 19:37:15');
INSERT INTO configuracion VALUES(2,'telefono_negocio','3217335276','text','2026-02-17 19:37:15');
INSERT INTO configuracion VALUES(3,'email_negocio','celupro.of@gmail.com','text','2026-02-17 19:37:15');
INSERT INTO configuracion VALUES(4,'logo_url','/static/logos/logo.png','text','2026-02-17 19:37:15');
INSERT INTO configuracion VALUES(5,'ancho_papel_mm','58','number','2026-02-17 19:37:15');
INSERT INTO configuracion VALUES(6,'direccion_negocio','CL 50 NRO 49 47 PASAJE ARISTI LOCAL 8','text','2026-02-24 02:37:59');
INSERT INTO configuracion VALUES(7,'logo_ticket_url','/static/logos/logo_ticket.png','text','2026-02-24 23:06:38');
INSERT INTO configuracion VALUES(8,'tecnico_default_id','4','text','2026-02-25 19:23:50');
INSERT INTO sqlite_sequence VALUES('usuarios',5);
INSERT INTO sqlite_sequence VALUES('marcas',18);
INSERT INTO sqlite_sequence VALUES('modelos',195);
INSERT INTO sqlite_sequence VALUES('fallas_catalogo',15);
INSERT INTO sqlite_sequence VALUES('configuracion',8);
INSERT INTO sqlite_sequence VALUES('ingresos',42);
INSERT INTO sqlite_sequence VALUES('ingreso_fallas',25);
INSERT INTO sqlite_sequence VALUES('notas_ingreso',25);
CREATE UNIQUE INDEX idx_modelos_marca_nombre_upper
        ON modelos(marca_id, UPPER(TRIM(nombre)))
        ;
COMMIT;
